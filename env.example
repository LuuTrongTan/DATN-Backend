# Server Configuration
PORT=
APP_PORT=
NODE_ENV=

# Database Configuration (PostgreSQL)
# Khi chạy với Docker: DB_HOST=db
# Khi chạy local: DB_HOST=localhost
DB_HOST=
DB_PORT=
DB_EXTERNAL_PORT=
DB_NAME=
DB_USER=
DB_PASSWORD=

# JWT Configuration
JWT_SECRET=
JWT_EXPIRES_IN=

# Email Configuration (SMTP) - Cần thiết để gửi OTP qua email
# Gmail: https://myaccount.google.com/apppasswords
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password_here

# Firebase Configuration (for Phone Authentication)
# Firebase Phone Auth: SMS được gửi từ frontend, backend chỉ verify token
# 
# CÁCH LẤY CREDENTIALS:
# 1. Vào Firebase Console: https://console.firebase.google.com/
# 2. Chọn project của bạn
# 3. Vào Project Settings (⚙️) > Service Accounts
# 4. Click "Generate new private key" để download file JSON
# 5. Mở file JSON và copy các giá trị sau:
#    - project_id → FIREBASE_PROJECT_ID
#    - private_key → FIREBASE_PRIVATE_KEY (copy toàn bộ, bao gồm \n)
#    - client_email → FIREBASE_CLIENT_EMAIL
#
# LƯU Ý: 
# - FIREBASE_PRIVATE_KEY phải giữ nguyên format với \n (không xóa)
# - Nếu copy từ file JSON, private_key đã có \n sẵn, không cần thay đổi
# - Nếu paste vào .env, có thể cần thay \n thành \\n (tùy editor)
FIREBASE_PROJECT_ID=your-project-id-here
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com

# Redis Configuration
# Khi chạy với Docker: REDIS_HOST=redis
# Khi chạy local: REDIS_HOST=localhost
REDIS_HOST=
REDIS_PORT=
REDIS_EXTERNAL_PORT=
REDIS_PASSWORD=
REDIS_DB=
REDIS_MAXMEMORY=
REDIS_TIMEOUT=
REDIS_HZ=

# File Upload Configuration
MAX_FILE_SIZE=
# Thư mục lưu file local (mặc định: ./uploads)
# File sẽ được lưu vào: UPLOAD_DIR/images và UPLOAD_DIR/videos
UPLOAD_DIR=./uploads
# Base URL để tạo public URL cho file local (mặc định: http://localhost:3004)
# Format: BASE_URL/uploads/images/filename.jpg
BASE_URL=http://localhost:3004

# Storage Configuration
# File được upload và lưu trữ trên server (local storage)
# File sẽ được lưu vào: UPLOAD_DIR/images và UPLOAD_DIR/videos
# Public URL: BASE_URL/uploads/images/filename.jpg

# Frontend URL
FRONTEND_URL=

# CORS Origins (comma or space separated)
CORS_ORIGINS=

# GHN API Configuration (Giao Hàng Nhanh)
# ⚠️ CHỈ SỬ DỤNG STAGING/DEV ENVIRONMENT ĐỂ TEST ⚠️
# CÁCH LẤY CREDENTIALS:
# 1. Đăng ký tài khoản GHN: https://api.ghn.vn/
# 2. Tạo cửa hàng trong GHN Dashboard
# 3. Lấy Token và Shop ID từ GHN Dashboard
# 4. API URL: 
#    - Staging/Dev (TEST ONLY): https://dev-online-gateway.ghn.vn/shiip/public-api/v2
#    - Production: https://online-gateway.ghn.vn/shiip/public-api/v2 (KHÔNG DÙNG ĐỂ TEST)
# LƯU Ý: Code sẽ tự động chuyển về staging nếu phát hiện production URL
GHN_API_TOKEN=your_ghn_token_here
GHN_SHOP_ID=your_shop_id_here
GHN_API_URL=https://dev-online-gateway.ghn.vn/shiip/public-api/v2

# Shop Location (for shipping calculation)
# Địa chỉ cửa hàng để tính phí vận chuyển
SHOP_PROVINCE=Thành phố Hồ Chí Minh
SHOP_DISTRICT=Quận 1
SHOP_WARD=Phường Bến Nghé

# VNPay Configuration
# ⚠️ QUAN TRỌNG: VNPay cần URL công khai (public URL) để gọi về ReturnURL và IPN URL
# Development: Dùng ngrok/localtunnel để expose localhost
# Production: Deploy backend lên server với domain
# 
# CÁCH LẤY CREDENTIALS:
# 1. Đăng ký tài khoản tại: https://sandbox.vnpayment.vn/ (sandbox) hoặc https://vnpayment.vn/ (production)
# 2. Lấy TMN Code và Hash Secret từ VNPay Dashboard
# 3. Cấu hình Return URL và IPN URL trong VNPay Dashboard:
#    - Return URL: {BASE_URL}/api/payment/vnpay/return
#    - IPN URL: {BASE_URL}/api/payment/vnpay/ipn
# 
# LƯU Ý:
# - BASE_URL PHẢI là URL công khai (không phải localhost khi test)
# - Development: Dùng ngrok để expose localhost (xem VNPAY_SETUP_GUIDE.md)
# - Production: Deploy backend và dùng domain thật
VNPAY_TMN_CODE=
VNPAY_HASH_SECRET=
VNPAY_PAYMENT_URL=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html
# Nếu không set, sẽ dùng: {BASE_URL}/api/payment/vnpay/return
VNPAY_RETURN_URL=
# Nếu không set, sẽ dùng: {BASE_URL}/api/payment/vnpay/ipn
VNPAY_IPN_URL=

# ZaloPay Configuration (sandbox)
# CÁCH LẤY CREDENTIALS:
# 1. Đăng ký tài khoản sandbox và lấy AppID, Key1, Key2 từ ZaloPay Merchant Portal
# 2. Cấu hình Callback URL trỏ về backend:
#    {BASE_URL}/api/payment/zalopay/callback
# 3. Cấu hình Redirect URL trỏ về frontend (nếu cần), ví dụ: {FRONTEND_URL}/orders
ZALOPAY_APP_ID=
ZALOPAY_KEY1=
ZALOPAY_KEY2=
ZALOPAY_SANDBOX_ENDPOINT=https://sbgateway.zalopay.vn
ZALOPAY_RETURN_URL=${BASE_URL}/api/payment/zalopay/callback

